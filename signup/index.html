<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta name="theme-color" content="#0052FF">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>تسجيل الدخول</title>
<style>
  :root{--b:#0052ff;--i:#0f172a;--m:#5b6472;--l:#d5dbe5;--c:#ffffff}
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{font-family:Inter,system-ui,-apple-system,Segoe UI,Tahoma,Arial,sans-serif;background:#fff;color:var(--i)}
  .sb{position:fixed;top:0;left:0;right:0;height:env(safe-area-inset-top,0px);background:var(--b);z-index:10;pointer-events:none}
  .sp{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#fff;z-index:20}
  .dz{display:flex;gap:10px}
  .d{width:10px;height:10px;border-radius:50%;background:var(--b);animation:b 1.05s infinite}
  .d:nth-child(2){animation-delay:.16s}
  .d:nth-child(3){animation-delay:.32s}
  @keyframes b{0%,80%,100%{opacity:.35;transform:scale(.7)}40%{opacity:1;transform:scale(1)}}
  .sh{max-width:420px;margin:0 auto;padding:calc(env(safe-area-inset-top,0px) + 16px) 18px 24px}
  .tp{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
  .mk{width:36px;height:36px}
  .ln{color:var(--b);font-weight:600;text-decoration:none}
  .cd{background:var(--c);border:1px solid var(--l);border-radius:12px;padding:20px}
  .tt{font-size:20px;font-weight:700;margin-bottom:16px}
  .gp{margin-bottom:14px}
  .lb{display:block;font-size:14px;font-weight:600;color:#1f2937;margin-bottom:8px}
  .fd{width:100%;height:48px;border:1px solid var(--l);border-radius:8px;background:#fff;color:var(--i);font-size:15px;padding:0 12px;outline:none}
  .fd::placeholder{color:#9aa3af}
  select.fd{appearance:none;-webkit-appearance:none;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>');background-repeat:no-repeat;background-position:left 12px center;padding-left:36px}
  .bn{width:100%;height:48px;border:0;border-radius:8px;background:var(--b);color:#fff;font-weight:600;font-size:15px;cursor:pointer}
  .bn[disabled]{opacity:.6;cursor:not-allowed}
  .fn{font-size:12px;color:var(--m);line-height:1.6;margin-top:14px;text-align:center}
  .fn a{color:var(--b);text-decoration:none}
  .qr{display:none;border:1px solid var(--l);border-radius:10px;overflow:hidden;background:#fff}
  .qi{position:relative;aspect-ratio:1/1;width:100%;display:block;background:#f6f7fa}
  .qi img{position:absolute;inset:0;width:100%;height:100%;object-fit:contain;display:block}
  .qa{font-size:12px;color:#475569;text-align:center;padding:8px 6px;border-top:1px solid var(--l)}
  .up{display:flex;align-items:center;justify-content:center;gap:8px;width:100%;height:44px;border:1px dashed var(--l);border-radius:10px;background:#fafbff;color:#334155;font-size:13px;cursor:pointer}
  .up input{display:none}
  .lk{margin-top:10px;font-size:13px;word-break:break-all}
  .lk a{color:#0b62ff;text-decoration:none}
</style>
</head>
<body>

<div class="sb"></div>

<div class="sp" id="sp">
  <div class="dz"><div class="d"></div><div class="d"></div><div class="d"></div></div>
</div>

<div id="app" style="display:none">
  <div class="sh">
    <div class="tp">
      <svg class="mk" viewBox="0 0 36 36"><circle cx="18" cy="18" r="18" fill="#0052ff"/><path d="M23.7 20.7a6.4 6.4 0 1 1 0-5.4h3.67a9.99 9.99 0 1 0 0 5.4H23.7z" fill="#fff"/></svg>
      <a class="ln" href="#">Sign up</a>
    </div>

    <div class="cd">
      <div class="tt">تسجيل الدخول</div>

      <div class="gp">
        <span class="lb">اختر المنصة</span>
        <select id="p" class="fd">
          <option value="" selected disabled>اختر المنصة</option>
          <option>LINEBET</option>
          <option>1XBET</option>
          <option>MELBET</option>
          <option>MEGAPARI</option>
          <option>STAKE</option>
          <option>MYSTAKE</option>
          <option>GOOOBET</option>
          <option>RISCOBET</option>
          <option>888STARZ</option>
        </select>
      </div>

      <div id="gid" class="gp">
        <span class="lb">أدخل الـ ID</span>
        <input id="u" class="fd" type="text" inputmode="numeric" pattern="[0-9]{4,15}" maxlength="15" placeholder="مثال: 1234567">
      </div>

      <div id="gq" class="gp qr">
        <div class="qi"><img id="qimg" alt="QR"></div>
        <label class="up"><svg width="16" height="16" viewBox="0 0 24 24"><path d="M12 16V8M8 12h8" fill="none" stroke="#334155" stroke-width="2" stroke-linecap="round"/></svg>ارفع صورة QR<input id="qin" type="file" accept="image/*"></label>
        <div class="qa">بعد رفع الصورة سيتم استخراج الرابط أسفلًا تلقائيًا</div>
        <div id="qlk" class="lk"></div>
      </div>

      <button id="go" class="bn" disabled>متابعة</button>

      <div class="fn">باستمرارك، فإنك توافق على <a href="#">سياسة الخصوصية</a> و<a href="#">سياسة ملفات الارتباط</a>.</div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>
<script>
  const s=document.getElementById('sp'),a=document.getElementById('app');const p=document.getElementById('p'),u=document.getElementById('u'),go=document.getElementById('go');const gid=document.getElementById('gid'),gq=document.getElementById('gq'),qin=document.getElementById('qin'),qimg=document.getElementById('qimg'),qlk=document.getElementById('qlk');
  const sh=()=>{s.style.display='none';a.style.display='block'};
  if(document.readyState==='complete'){setTimeout(sh,900)}else{addEventListener('load',()=>setTimeout(sh,900))}
  function vd(){const v=p.value;const q=(v==='STAKE'||v==='MYSTAKE');if(q){gid.style.display='none';gq.style.display='block';go.disabled=true}else{gq.style.display='none';gid.style.display='block';go.disabled=!(v&&/^[0-9]{4,15}$/.test(u.value.trim()))}}
  p.addEventListener('change',vd);u.addEventListener('input',vd);

  function de(i){const im=new Image();im.crossOrigin='anonymous';im.onload=()=>{const c=document.createElement('canvas');c.width=im.naturalWidth;c.height=im.naturalHeight;const x=c.getContext('2d');x.drawImage(im,0,0);try{const d=x.getImageData(0,0,c.width,c.height);const r=jsQR(d.data,c.width,c.height);if(r&&r.data){const url=r.data.trim();qlk.innerHTML=/^https?:\/\//i.test(url)?('<a href="'+url+'" target="_blank" rel="noopener">'+url+'</a>'):url;go.disabled=false}else{qlk.textContent='تعذّر التعرف على الكود، جرّب صورة أوضح';go.disabled=true}}catch(e){qlk.textContent='تعذّر تحليل الصورة';go.disabled=true}};im.onerror=()=>{qlk.textContent='تعذّر تحميل الصورة';go.disabled=true};im.src=i}

  qin.addEventListener('change',e=>{const f=e.target.files&&e.target.files[0];if(!f){return}const r=new FileReader();r.onload=o=>{qimg.src=o.target.result;qlk.textContent='جارِ التحليل...';de(o.target.result)};r.readAsDataURL(f)});

</script>
</body>
</html>
